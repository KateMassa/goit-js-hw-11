{"version":3,"file":"commonHelpers.js","sources":["../src/js/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst apiKey = '42152673-4f3b2f2010df91e54c05d1b70';\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst gallery = document.getElementById('gallery');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\nsearchForm.addEventListener('submit', function (e) {\n  e.preventDefault();\n  loader.style.display = 'block';\n  const searchName = searchInput.value.trim();\n\n  if (!searchName) {\n    iziToast.warning({\n      title: 'Attention',\n      message: 'Please enter a search name.',\n    });\n\n    // Hide loader if no search term entered\n    loader.style.display = 'none';\n    return;\n  }\n\n  searchImages(searchName);\n});\n\nfunction searchImages(searchTerm) {\n  // Get loader element again\n  const loader = document.querySelector('.loader');\n\n  // Clear gallery before new search\n  gallery.innerHTML = '';\n\n  const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  fetch(apiUrl)\n    .then(response => response.json())\n    .then(data => {\n      if (data.hits.length > 0) {\n        data.hits.forEach(image => {\n          const card = createImageCard(image);\n          gallery.appendChild(card);\n        });\n\n        const modal = new SimpleLightbox('.gallery a', {\n          // Refresh SimpleLightbox after adding new images\n          elements: data.hits.map(image => ({ src: image.largeImageURL })),\n        });\n        modal.refresh();\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again.',\n        });\n      }\n    })\n    .catch(error => {\n      console.error('An error occurred when executing an HTTP request:', error);\n    })\n    .finally(() => {\n      // Hide loader after HTTP request\n      loader.style.display = 'none';\n    });\n}\n\nfunction createImageCard(image) {\n  const card = document.createElement('div');\n  card.classList.add('image-card');\n\n  const img = document.createElement('img');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n  img.dataset.largeImage = image.largeImageURL;\n  card.appendChild(img);\n\n  const info = document.createElement('div');\n  info.classList.add('image-info');\n  info.innerHTML = `\n    <p><strong>Likes:</strong> ${image.likes}</p>\n    <p><strong>Views:</strong> ${image.views}</p>\n    <p><strong>Comments:</strong> ${image.comments}</p>\n    <p><strong>Downloads:</strong> ${image.downloads}</p>\n  `;\n  card.appendChild(info);\n\n  img.addEventListener('click', openModal);\n\n  return card;\n}\n\nfunction openModal(event) {\n  const largeImageURL = event.target.dataset.largeImage;\n  const modal = new SimpleLightbox([{ src: largeImageURL }]);\n  modal.show();\n}\n"],"names":["apiKey","searchForm","searchInput","gallery","loader","e","searchName","iziToast","searchImages","searchTerm","apiUrl","response","data","image","card","createImageCard","SimpleLightbox","error","img","info","openModal","event","largeImageURL"],"mappings":"wvBAKA,MAAMA,EAAS,qCACTC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvBH,EAAW,iBAAiB,SAAU,SAAUI,EAAG,CACjDA,EAAE,eAAc,EAChBD,EAAO,MAAM,QAAU,QACvB,MAAME,EAAaJ,EAAY,MAAM,KAAI,EAEzC,GAAI,CAACI,EAAY,CACfC,EAAS,QAAQ,CACf,MAAO,YACP,QAAS,6BACf,CAAK,EAGDH,EAAO,MAAM,QAAU,OACvB,MACD,CAEDI,EAAaF,CAAU,CACzB,CAAC,EAED,SAASE,EAAaC,EAAY,CAEhC,MAAML,EAAS,SAAS,cAAc,SAAS,EAG/CD,EAAQ,UAAY,GAEpB,MAAMO,EAAS,gCAAgCV,OAAYS,4DAE3D,MAAMC,CAAM,EACT,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACRA,EAAK,KAAK,OAAS,GACrBA,EAAK,KAAK,QAAQC,GAAS,CACzB,MAAMC,EAAOC,EAAgBF,CAAK,EAClCV,EAAQ,YAAYW,CAAI,CAClC,CAAS,EAEa,IAAIE,EAAe,aAAc,CAE7C,SAAUJ,EAAK,KAAK,IAAIC,IAAU,CAAE,IAAKA,EAAM,aAAa,EAAG,CACzE,CAAS,EACK,QAAO,GAEbN,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,CAET,CAAK,EACA,MAAMU,GAAS,CACd,QAAQ,MAAM,oDAAqDA,CAAK,CAC9E,CAAK,EACA,QAAQ,IAAM,CAEbb,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAEA,SAASW,EAAgBF,EAAO,CAC9B,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,YAAY,EAE/B,MAAMI,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAML,EAAM,aAChBK,EAAI,IAAML,EAAM,KAChBK,EAAI,QAAQ,WAAaL,EAAM,cAC/BC,EAAK,YAAYI,CAAG,EAEpB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzC,OAAAA,EAAK,UAAU,IAAI,YAAY,EAC/BA,EAAK,UAAY;AAAA,iCACcN,EAAM;AAAA,iCACNA,EAAM;AAAA,oCACHA,EAAM;AAAA,qCACLA,EAAM;AAAA,IAEzCC,EAAK,YAAYK,CAAI,EAErBD,EAAI,iBAAiB,QAASE,CAAS,EAEhCN,CACT,CAEA,SAASM,EAAUC,EAAO,CACxB,MAAMC,EAAgBD,EAAM,OAAO,QAAQ,WAC7B,IAAIL,EAAe,CAAC,CAAE,IAAKM,CAAe,CAAA,CAAC,EACnD,KAAI,CACZ"}